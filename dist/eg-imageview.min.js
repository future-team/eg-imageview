!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("react"),require("eagle-ui/lib/utils/Component"),require("eagle-ui"),require("react/lib/ReactDOM"));else if("function"==typeof define&&define.amd)define(["react","eagle-ui/lib/utils/Component","eagle-ui","react/lib/ReactDOM"],e);else{var n="object"==typeof exports?e(require("react"),require("eagle-ui/lib/utils/Component"),require("eagle-ui"),require("react/lib/ReactDOM")):e(t.React,t.Component,t.Eagleui,t.ReactDom);for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(t,e,n,r){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(2),i=r(o);e.ImageView=i.default,window.Eagleui&&(Eagleui.Upload=e.ImageView)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(3),u=r(l),c=n(4),p=r(c),d=n(5),f=n(6),h=(r(f),n(7)),m=r(h),g=n(8),y=r(g),v=n(9),b=r(v),x=n(11),w=(r(x),n(10)),T=function(t){function e(n,r){o(this,e),t.call(this,n,r),this.imgId=this.uniqueId(),this.totalImg=1,this.imgSizes=[],this.transform="scale(1, 1) rotate(0deg)",this.state={maxHeight:1*document.documentElement.clientHeight-100,maxWidth:1*document.documentElement.clientWidth-100,imgWrap:{height:"auto",width:"auto"},modifyImgStyle:null,activeIndex:this.props.activeIndex||0,name:"图片"},this.initLoad=!0}return i(e,t),s(e,null,[{key:"propTypes",value:{classPrefix:l.PropTypes.string,componentTag:l.PropTypes.string},enumerable:!0},{key:"defaultProps",value:{componentTag:"div",file:{name:"",url:""},id:"",isMask:"true"},enumerable:!0}]),e.prototype.cssEnhance=function(t){var e=this.transform.match(/-?\d+\.?\d*/g);if(e&&e.length>=3){var n=0,r=n.zoom,o=n.rotate;switch(t){case"rotate":r=0,o=90;break;case"max":r=.5,o=0;break;case"min":r=-.5,o=0}this.calculatePosition(r,o,t)}},e.prototype.handleResize=function(){},e.prototype.componentDidMount=function(){},e.prototype.componentWillUnmount=function(){},e.prototype.componentWillReceiveProps=function(t){this.transform="scale(1, 1) rotate(0deg)";var e=t.activeIndex;this.setState({imgWrap:{height:"auto",width:"auto"},modifyImgStyle:null,activeIndex:"undefined"==typeof e?this.state.activeIndex:e})},e.prototype.onLoadHandler=function(t,e){var n=y.default(e.target).offset();this.imgSizes.push(n),t==this.state.activeIndex&&this.setState({imgWrap:{width:n.width,height:n.height}})},e.prototype.getDeg=function(t){switch(t/180%2){case 0:case 1:t=0;break;case.5:t=1;break;case 1.5:t=-1;break;default:t=0}return t},e.prototype.calculatePosition=function(t,e,n){var r=this.transform.match(/-?\d+\.?\d*/g),o=1*r[0]+t,i=1*r[2]+e,a=r[3]||r[4]||0,s=this.imgSizes[this.state.activeIndex];if("rotate"==n){var l=this.getDeg(i);if(0==l)a=0,this.setState({imgWrap:{width:s.width,height:s.height},modifyImgStyle:null});else{var u=s.width/s.height,c=this.state.imgWrap.height,p=this.state.imgWrap.width,f=this.state.maxWidth,h=this.state.maxHeight;c>f?(c=f,p=u*c):p>h&&(c=p/u,p=h),a=l*(p-c)/2,this.setState({imgWrap:{width:c,height:p},modifyImgStyle:{width:p,height:c}})}}else this.draggable.reset();var g=1*a;if(!(o<=0)){var y=t||o-1;0!=y&&(y=y>0?.5:2,g*=y),this.transform="scale("+o+", "+o+") rotate("+i+"deg) translate("+g+"px, "+g+"px)",setTimeout(function(){var t=m.default.findDOMNode(this.refs[this.imgId+this.state.activeIndex]).style;t.WebkitTransform=this.transform,t.msTransform=this.transform,t.OTransform=this.transform,t.transform=this.transform}.bind(this)),d.Dialog.mask(this.props.id)}},e.prototype.getName=function(t,e,n){var r=e?t.file.length:t.children.length;if(0==r)return"图片";if("undefined"==typeof n)return"图片";var o=e?t.file[n].name:t.children[n].props.name;return o},e.prototype.getClass=function(t,e){return t==e?"img_show":"img_hide"},e.prototype.render=function(){var t,e=this;return this.isFile=!this.props.children,this.name=this.getName(this.props,this.isFile,this.state.activeIndex),u.default.createElement(d.Dialog,a({id:this.props.id,isClose:!0,isMask:this.props.isMask,title:this.name},this.props),u.default.createElement("div",null,u.default.createElement("div",{className:"img-wrap "+(this.props.overflow?"img-wrap-hidden":"img-wrap-show"),style:{height:this.state.imgWrap.height,width:this.state.imgWrap.width}},u.default.createElement(b.default,{ref:function(t){e.draggable=t}},this.renderContent())),u.default.createElement("div",{className:"icon-side left-15"},u.default.createElement(d.Icon,{onClick:(t=this.countIndex).bind.call(t,this,"left"),className:"upload-icon",name:"chevron_left"})),u.default.createElement("div",{className:"icon-side right-15"},u.default.createElement(d.Icon,{onClick:(t=this.countIndex).bind.call(t,this,"right"),className:"upload-icon",name:"chevron_right"})),u.default.createElement("div",{className:"icon-box"},u.default.createElement(d.Icon,{onClick:(t=this.cssEnhance).bind.call(t,this,"rotate"),className:"upload-icon",name:"radio_unchecked",alt:"旋转"}),u.default.createElement(d.Icon,{onClick:(t=this.cssEnhance).bind.call(t,this,"max"),className:"upload-icon",name:"add",alt:"放大"}),u.default.createElement(d.Icon,{onClick:(t=this.cssEnhance).bind.call(t,this,"min"),className:"upload-icon",name:"remove",alt:"缩小"}),u.default.createElement("div",{className:"tip-num"},u.default.createElement("label",{className:"red-txt"},this.state.activeIndex+1),u.default.createElement("label",{className:"mar-5"},"/"),u.default.createElement("label",{className:"white-txt"},this.totalImg)))))},e.prototype.renderContent=function(){var t=this.props,e=(t.children,t.file),n=this.isFile?this.renderFile(e):this.renderChild();return u.default.createElement("div",null,n)},e.prototype.renderFile=function(t){var e=this,n=w.isArray(t)?t:w.toArray(t);this.totalImg=n.length;var r=n.map(function(t,n){return u.default.createElement("img",{draggable:"false",id:e.imgId+n,onLoad:e.onLoadHandler.bind(e,n),ref:e.imgId+n,key:n,src:t.url,alt:"",className:e.getClass(n,e.state.activeIndex),style:a({maxHeight:e.state.maxHeight+"px",maxWidth:e.state.maxWidth+"px",msTransform:e.transform,WebkitTransform:e.transform,MozTransform:e.transform,OTransform:e.transform,transform:e.transform},e.state.modifyImgStyle)})});return r},e.prototype.renderChild=function(){var t=this;this.totalImg=this.props.children.length;var e=u.default.Children.map(this.props.children,function(e,n){return u.default.createElement("img",{draggable:"false",id:t.imgId+n,onLoad:t.onLoadHandler.bind(t,n),ref:t.imgId+n,key:n,src:e.props.url,alt:"",className:t.getClass(n,t.state.activeIndex),style:a({maxHeight:t.state.maxHeight+"px",maxWidth:t.state.maxWidth+"px",msTransform:t.transform,WebkitTransform:t.transform,MozTransform:t.transform,OTransform:t.transform,transform:t.transform},t.state.modifyImgStyle)})});return e},e.prototype.countIndex=function(t){var e=parseInt(this.state.activeIndex),n=this.totalImg-1,r="left"==t?e>0?e-1:e:e<n?1*e+1:e,o=this.imgSizes[r];this.name=this.getName(this.props,this.isFile,r),this.setState({activeIndex:r,imgWrap:{width:o.width,height:o.height}}),d.Dialog.mask(this.props.id)},e}(p.default);e.default=T,t.exports=e.default},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e){t.exports=n},function(t,e,n){var r,o;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r))t.push(n.apply(null,r));else if("object"===o)for(var a in r)i.call(r,a)&&r[a]&&t.push(a)}}return t.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof t&&t.exports?t.exports=n:(r=[],o=function(){return n}.apply(e,r),!(void 0!==o&&(t.exports=o)))}()},function(t,e){t.exports=r},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(e){n(this,t),this.obj=e}return t.prototype.offset=function(){for(var t=this.obj,e=t.offsetLeft,n=t.offsetTop,r=t.offsetParent;r&&r.nodeName.toLowerCase()!=document.body;)n+=r.offsetTop,e+=r.offsetLeft,r=r.offsetParent;return{top:n,left:e,width:t.offsetWidth,height:t.offsetHeight}},t.prototype.parents=function(t){try{for(var e=this.obj.parentNode;e&&e.tagName!=arguments[0].toUpperCase();)e=e.parentNode;return[e]}catch(t){return[]}},t.prototype.matchNode=function(t,e,n){for(var r=t[n];r;r=r[e])if(1==r.nodeType)return r;return null},t.prototype.next=function(){return this.matchNode(this.obj,"nextSibling","nextSibling")},t.prototype.prev=function(){return this.matchNode(this.obj,"previousSibling","previousSibling")},t.prototype.first=function(){return this.matchNode(this.obj,"nextSibling","firstChild")},t.prototype.last=function(){return this.matchNode(this.obj,"previousSibling","lastChild")},t.prototype.parent=function(){return this.matchNode(this.obj,"parentNode","parentNode")},t.prototype.children=function t(){for(var e=this.obj,t=[],n=e.firstChild;n;n=n.nextSibling)1==n.nodeType&&t.push(n);return t},t}();t.exports=function(t){return new r(t)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(3),u=r(l),c=n(7),p=r(c),d=n(4),f=r(d),h=n(8),m=r(h),g=n(6),y=r(g),v=n(10),b={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},x=b.mouse,w=function(t){function e(n){o(this,e),t.call(this,n),this.state={dragging:!1,dragged:!1,x:n.position?n.position.x:n.defaultPosition.x,y:n.position?n.position.y:n.defaultPosition.y,slackX:0,slackY:0,touchIdentifier:null}}return i(e,t),s(e,null,[{key:"propTypes",value:{bounds:l.PropTypes.string,defaultPosition:l.PropTypes.shape({x:l.PropTypes.number,y:l.PropTypes.number}),position:l.PropTypes.shape({x:l.PropTypes.number,y:l.PropTypes.number})},enumerable:!0},{key:"defaultProps",value:{bounds:"parent",defaultPosition:{x:0,y:0},position:null},enumerable:!0}]),e.prototype.componentWillMount=function(){},e.prototype.componentDidMount=function(){},e.prototype.componentWillReceiveProps=function(t){!t.position||this.props.position&&t.position.x===this.props.position.x&&t.position.y===this.props.position.y||this.setState({x:t.position.x,y:t.position.y})},e.prototype.componentWillUnmount=function(){this.setState({dragging:!1})},e.prototype.createCoreData=function(t,e){var n=this,r=n.state,o=!v.isNum(r.lastX);return o?{node:p.default.findDOMNode(n),deltaX:0,deltaY:0,lastX:t,lastY:e,x:t,y:e}:{node:p.default.findDOMNode(n),deltaX:t-r.lastX,deltaY:e-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:e}},e.prototype.createDraggableData=function(t){var e=this;return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}},e.prototype.getPosition=function(t,e){var n="number"==typeof e?v.getTouch(t,e):null;if("number"==typeof e&&!n)return null;t=n||t;var r=p.default.findDOMNode(this),o=r.offsetParent,i=m.default(o).offset(),a=t.clientX+o.scrollLeft-i.left,s=t.clientY+o.scrollTop-i.top;return{x:a,y:s}},e.prototype.handleDragStart=function(t){var e=v.getTouchIdentifier(t);this.setState({touchIdentifier:e});var n=this.getPosition(t,e,this),r=n.x,o=n.y;this.setState({dragging:!0,dragged:!0,lastX:r,lastY:o}),v.addEvent(document,x.move,this.handleDrag.bind(this)),v.addEvent(document,x.stop,this.handleDragStop.bind(this))},e.prototype.handleDrag=function(t){if(!this.state.dragging)return!1;var e=this.getPosition(t,this.state.touchIdentifier,this),n=e.x,r=e.y,o=this.createCoreData(n,r),i=this.createDraggableData(o),a={x:i.x,y:i.y};a.lastX=n,a.lastY=r,this.setState(a)},e.prototype.handleDragStop=function(t){if(!this.state.dragging)return!1;var e={dragging:!1,lastX:NaN,lastY:NaN,slackX:0,slackY:0},n=Boolean(this.props.position);if(n){var r=this.props.position,o=r.x,i=r.y;e.x=o,e.y=i}this.setState(e),v.removeEvent(document,x.move,this.handleDrag),v.removeEvent(document,x.stop,this.handleDragStop)},e.prototype.createCSSTransform=function(t){var e="translate( "+t.x+"px, "+t.y+"px)";return{WebkitTransform:e,MozTransform:e,msTransform:e,OTransform:e,transform:e}},e.prototype.onMouseDown=function(t){return x=b.mouse,this.handleDragStart(t)},e.prototype.onTouchStart=function(t){return x=b.touch,this.handleDragStart(t)},e.prototype.onMouseUp=function(t){return x=b.mouse,this.handleDragStop(t)},e.prototype.onTouchEnd=function(t){return x=b.touch,this.handleDragStop(t)},e.prototype.reset=function(){var t={x:0,y:0};this.setState(t)},e.prototype.render=function(){var t=this.createCSSTransform(this.state),e=y.default(this.props.children.props.className||"","draggable",{"draggable-dragging":this.state.dragging,"draggable-dragged":this.state.dragged});return u.default.createElement("div",a({},this.props,{className:"img-inner",onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onTouchStart.bind(this),onMouseUp:this.onMouseUp.bind(this),onTouchEnd:this.onTouchEnd.bind(this),style:t}),u.default.cloneElement(u.default.Children.only(this.props.children),{className:e,style:a({},this.props.children.props.style)}))},e}(f.default);e.default=w,t.exports=e.default},function(t,e){"use strict";function n(t){var e=t.clientHeight,n=window.getComputedStyle(t);return e+=parseInt(n.borderTopWidth,10),e+=parseInt(n.borderBottomWidth,10)}function r(t){var e=t.clientWidth,n=window.getComputedStyle(t);return e+=parseInt(n.borderLeftWidth,10),e+=parseInt(n.borderRightWidth,10)}function o(t){var e=t.clientHeight,n=window.getComputedStyle(t);return e-=parseInt(n.paddingTop,10),e-=parseInt(n.paddingBottom,10)}function i(t){var e=t.clientWidth,n=window.getComputedStyle(t);return e-=parseInt(n.paddingLeft,10),e-=parseInt(n.paddingRight,10)}function a(t,e,n){t&&(t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,!0):t["on"+e]=n)}function s(t,e,n){t&&(t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener?t.removeEventListener(e,n,!0):t["on"+e]=null)}function l(t,e){for(var n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function u(t,e){return t.targetTouches&&l(t.targetTouches,function(t){return e===t.identifier})||t.changedTouches&&l(t.changedTouches,function(t){return e===t.identifier})}function c(t){return t.targetTouches&&t.targetTouches[0]?t.targetTouches[0].identifier:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0].identifier:void 0}function p(t){return"number"==typeof t&&!isNaN(t)}function d(t){return t instanceof Array}function f(t){var e=[];return e.push(t),e}e.__esModule=!0,e.outerHeight=n,e.outerWidth=r,e.innerHeight=o,e.innerWidth=i,e.addEvent=a,e.removeEvent=s,e.findInArray=l,e.getTouch=u,e.getTouchIdentifier=c,e.isNum=p,e.isArray=d,e.toArray=f},function(t,e,n){var r=n(12);"string"==typeof r&&(r=[[t.id,r,""]]);n(14)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(13)(),e.push([t.id,".upload-icon{fill:#fff;margin:0 5px;cursor:pointer}.icon-box{bottom:20px}.icon-box,.icon-side{position:absolute;background:rgba(0,0,0,.7);padding:5px 10px}.icon-side{top:50%}.left-15{left:15px}.right-15{right:15px}.tip-num{display:inline-block;margin-left:15px;font-size:1pc}.tip-num .red-txt{color:red}.tip-num .mar-5{color:#fff;margin:0 5px}.tip-num .white-txt{color:#fff}.img-wrap{position:relative}.img-wrap.img-wrap-hidden{overflow:hidden}.img-wrap.img-wrap-show{overflow:visible}.img-wrap .draggable{cursor:move}.img-wrap .img-inner{width:100%;height:100%}.img-wrap img{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.img-wrap .img_hide{visibility:hidden;position:absolute;z-index:-999;top:9999px;left:9999px}.img-wrap .img_show{display:block}.img-wrap .red-txt{color:red}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=p[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(s(r.parts[i],e))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(s(r.parts[i],e));p[r.id]={id:r.id,refs:1,parts:a}}}}function o(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],i=o[0],a=o[1],s=o[2],l=o[3],u={css:a,media:s,sourceMap:l};n[i]?n[i].parts.push(u):e.push(n[i]={id:i,parts:[u]})}return e}function i(){var t=document.createElement("style"),e=h();return t.type="text/css",e.appendChild(t),t}function a(){var t=document.createElement("link"),e=h();return t.rel="stylesheet",e.appendChild(t),t}function s(t,e){var n,r,o;if(e.singleton){var s=g++;n=m||(m=i()),r=l.bind(null,n,s,!1),o=l.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=a(),r=c.bind(null,n),o=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=i(),r=u.bind(null,n),o=function(){n.parentNode.removeChild(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function l(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function u(t,e){var n=e.css,r=e.media;e.sourceMap;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function c(t,e){var n=e.css,r=(e.media,e.sourceMap);r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var p={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},f=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=d(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,g=0;t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=f());var n=o(t);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a],l=p[s.id];l.refs--,i.push(l)}if(t){var u=o(t);r(u,e)}for(var a=0;a<i.length;a++){var l=i[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete p[l.id]}}}};var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()}])});